{"ast":null,"code":"import _initializerDefineProperty from \"/Volumes/Lera/\\u0423\\u0447\\u0435\\u0431\\u0430/-English-words-React-/myapp/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/initializerDefineProperty\";\nimport _applyDecoratedDescriptor from \"/Volumes/Lera/\\u0423\\u0447\\u0435\\u0431\\u0430/-English-words-React-/myapp/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/applyDecoratedDescriptor\";\nimport _initializerWarningHelper from \"/Volumes/Lera/\\u0423\\u0447\\u0435\\u0431\\u0430/-English-words-React-/myapp/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/initializerWarningHelper\";\n\nvar _class, _descriptor, _descriptor2, _descriptor3;\n\nimport { action, makeAutoObservable, observable } from \"mobx\";\nlet DataStore = (_class = class DataStore {\n  constructor() {\n    this.data = [];\n    this.isLoading = false;\n    this.error = null;\n\n    this.loadData = () => {\n      fetch(\"http://itgirlschool.justmakeit.ru/api/words\").then(response => {\n        if (response.ok) {\n          //Проверяем что код ответа 200\n          return response.json();\n        } else {\n          throw new Error(\"Something went wrong ...\");\n        }\n      }).then(response => this.data = response);\n    };\n\n    _initializerDefineProperty(this, \"addNewWord\", _descriptor, this);\n\n    _initializerDefineProperty(this, \"deleteWord\", _descriptor2, this);\n\n    _initializerDefineProperty(this, \"updateWord\", _descriptor3, this);\n\n    makeAutoObservable(this);\n    this.loadData();\n  }\n\n}, (_descriptor = _applyDecoratedDescriptor(_class.prototype, \"addNewWord\", [action], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: function () {\n    return inputData => {\n      fetch(\"/api/words/add\", {\n        method: \"POST\",\n        headers: {\n          \"Content-Type\": \"application/json;charset=utf-8\"\n        },\n        body: JSON.stringify({\n          english: inputData.word,\n          russian: inputData.translation,\n          transcription: inputData.transcription,\n          tags: []\n        })\n      }).then(response => {\n        if (response.ok) {\n          //Проверяем что код ответа 200\n          return response.json();\n        } else {\n          throw new Error(\"Something went wrong ...\");\n        }\n      }).then(() => {\n        this.loadData();\n      });\n    };\n  }\n}), _descriptor2 = _applyDecoratedDescriptor(_class.prototype, \"deleteWord\", [action], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: function () {\n    return id => {\n      fetch(`http://itgirlschool.justmakeit.ru/api/words/${id}/delete`, {\n        method: \"POST\"\n      }).then(response => {\n        if (response.ok) {\n          //Проверяем что код ответа 200\n          return response.json();\n        } else {\n          throw new Error(\"Something went wrong ...\");\n        }\n      }).then(() => {\n        this.loadData();\n      });\n    };\n  }\n}), _descriptor3 = _applyDecoratedDescriptor(_class.prototype, \"updateWord\", [action], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: function () {\n    return inputData => {\n      fetch(`/api/words/${inputData.id}/update`, {\n        method: \"POST\",\n        headers: {\n          \"Content-Type\": \"application/json;charset=utf-8\"\n        },\n        body: JSON.stringify(inputData)\n      }).then(response => {\n        if (response.ok) {\n          return response.json();\n        } else {\n          throw new Error(\"Something went wrong ...\");\n        }\n      }).then(() => {\n        this.loadData();\n      });\n    };\n  }\n})), _class);\nexport default DataStore;","map":{"version":3,"sources":["/Volumes/Lera/Учеба/-English-words-React-/myapp/src/stores/DataStore.js"],"names":["action","makeAutoObservable","observable","DataStore","constructor","data","isLoading","error","loadData","fetch","then","response","ok","json","Error","inputData","method","headers","body","JSON","stringify","english","word","russian","translation","transcription","tags","id"],"mappings":";;;;;;AAAA,SAASA,MAAT,EAAiBC,kBAAjB,EAAqCC,UAArC,QAAuD,MAAvD;IAEMC,S,aAAN,MAAMA,SAAN,CAAgB;AAKdC,EAAAA,WAAW,GAAG;AAAA,SAJdC,IAIc,GAJP,EAIO;AAAA,SAHdC,SAGc,GAHF,KAGE;AAAA,SAFdC,KAEc,GAFN,IAEM;;AAAA,SAKdC,QALc,GAKH,MAAM;AACfC,MAAAA,KAAK,CAAC,6CAAD,CAAL,CACGC,IADH,CACSC,QAAD,IAAc;AAClB,YAAIA,QAAQ,CAACC,EAAb,EAAiB;AACf;AACA,iBAAOD,QAAQ,CAACE,IAAT,EAAP;AACD,SAHD,MAGO;AACL,gBAAM,IAAIC,KAAJ,CAAU,0BAAV,CAAN;AACD;AACF,OARH,EASGJ,IATH,CASSC,QAAD,IAAe,KAAKN,IAAL,GAAYM,QATnC;AAUD,KAhBa;;AAAA;;AAAA;;AAAA;;AACZV,IAAAA,kBAAkB,CAAC,IAAD,CAAlB;AACA,SAAKO,QAAL;AACD;;AARa,C,4EAuBbR,M;;;;;WACae,SAAD,IAAe;AAC1BN,MAAAA,KAAK,CAAC,gBAAD,EAAmB;AACtBO,QAAAA,MAAM,EAAE,MADc;AAEtBC,QAAAA,OAAO,EAAE;AACP,0BAAgB;AADT,SAFa;AAKtBC,QAAAA,IAAI,EAAEC,IAAI,CAACC,SAAL,CAAe;AACnBC,UAAAA,OAAO,EAAEN,SAAS,CAACO,IADA;AAEnBC,UAAAA,OAAO,EAAER,SAAS,CAACS,WAFA;AAGnBC,UAAAA,aAAa,EAAEV,SAAS,CAACU,aAHN;AAInBC,UAAAA,IAAI,EAAE;AAJa,SAAf;AALgB,OAAnB,CAAL,CAYGhB,IAZH,CAYSC,QAAD,IAAc;AAClB,YAAIA,QAAQ,CAACC,EAAb,EAAiB;AACf;AACA,iBAAOD,QAAQ,CAACE,IAAT,EAAP;AACD,SAHD,MAGO;AACL,gBAAM,IAAIC,KAAJ,CAAU,0BAAV,CAAN;AACD;AACF,OAnBH,EAoBGJ,IApBH,CAoBQ,MAAM;AACV,aAAKF,QAAL;AACD,OAtBH;AAuBD,K;;8EAEAR,M;;;;;WAAqB2B,EAAD,IAAQ;AAC3BlB,MAAAA,KAAK,CAAE,+CAA8CkB,EAAG,SAAnD,EAA6D;AAChEX,QAAAA,MAAM,EAAE;AADwD,OAA7D,CAAL,CAGGN,IAHH,CAGSC,QAAD,IAAc;AAClB,YAAIA,QAAQ,CAACC,EAAb,EAAiB;AACf;AACA,iBAAOD,QAAQ,CAACE,IAAT,EAAP;AACD,SAHD,MAGO;AACL,gBAAM,IAAIC,KAAJ,CAAU,0BAAV,CAAN;AACD;AACF,OAVH,EAWGJ,IAXH,CAWQ,MAAM;AACV,aAAKF,QAAL;AACD,OAbH;AAcD,K;;8EAEAR,M;;;;;WAAqBe,SAAD,IAAe;AAClCN,MAAAA,KAAK,CAAE,cAAaM,SAAS,CAACY,EAAG,SAA5B,EAAsC;AACzCX,QAAAA,MAAM,EAAE,MADiC;AAEzCC,QAAAA,OAAO,EAAE;AACP,0BAAgB;AADT,SAFgC;AAKzCC,QAAAA,IAAI,EAAEC,IAAI,CAACC,SAAL,CAAeL,SAAf;AALmC,OAAtC,CAAL,CAOGL,IAPH,CAOSC,QAAD,IAAc;AAClB,YAAIA,QAAQ,CAACC,EAAb,EAAiB;AACf,iBAAOD,QAAQ,CAACE,IAAT,EAAP;AACD,SAFD,MAEO;AACL,gBAAM,IAAIC,KAAJ,CAAU,0BAAV,CAAN;AACD;AACF,OAbH,EAeGJ,IAfH,CAeQ,MAAM;AACV,aAAKF,QAAL;AACD,OAjBH;AAkBD,K;;;AAGH,eAAeL,SAAf","sourcesContent":["import { action, makeAutoObservable, observable } from \"mobx\";\n\nclass DataStore {\n  data = [];\n  isLoading = false;\n  error = null;\n\n  constructor() {\n    makeAutoObservable(this);\n    this.loadData();\n  }\n\n  loadData = () => {\n    fetch(\"http://itgirlschool.justmakeit.ru/api/words\")\n      .then((response) => {\n        if (response.ok) {\n          //Проверяем что код ответа 200\n          return response.json();\n        } else {\n          throw new Error(\"Something went wrong ...\");\n        }\n      })\n      .then((response) => (this.data = response));\n  };\n\n  @action\n  addNewWord = (inputData) => {\n    fetch(\"/api/words/add\", {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json;charset=utf-8\",\n      },\n      body: JSON.stringify({\n        english: inputData.word,\n        russian: inputData.translation,\n        transcription: inputData.transcription,\n        tags: [],\n      }),\n    })\n      .then((response) => {\n        if (response.ok) {\n          //Проверяем что код ответа 200\n          return response.json();\n        } else {\n          throw new Error(\"Something went wrong ...\");\n        }\n      })\n      .then(() => {\n        this.loadData();\n      });\n  };\n\n  @action deleteWord = (id) => {\n    fetch(`http://itgirlschool.justmakeit.ru/api/words/${id}/delete`, {\n      method: \"POST\",\n    })\n      .then((response) => {\n        if (response.ok) {\n          //Проверяем что код ответа 200\n          return response.json();\n        } else {\n          throw new Error(\"Something went wrong ...\");\n        }\n      })\n      .then(() => {\n        this.loadData();\n      });\n  };\n\n  @action updateWord = (inputData) => {\n    fetch(`/api/words/${inputData.id}/update`, {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json;charset=utf-8\",\n      },\n      body: JSON.stringify(inputData),\n    })\n      .then((response) => {\n        if (response.ok) {\n          return response.json();\n        } else {\n          throw new Error(\"Something went wrong ...\");\n        }\n      })\n\n      .then(() => {\n        this.loadData();\n      });\n  };\n}\n\nexport default DataStore;\n"]},"metadata":{},"sourceType":"module"}